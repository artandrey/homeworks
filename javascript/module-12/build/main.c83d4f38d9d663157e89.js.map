{"version":3,"sources":["webpack:///./index.js","webpack:///./fetchCountries.js"],"names":["requestTimeout","input","document","querySelector","list","countryInfo","alertText","addEventListener","value","trim","toLowerCase","clearTimeout","setTimeout","searchQueries","fetch","method","headers","Accept","then","response","json","length","console","log","style","display","img","createElement","setAttribute","flag","header","textContent","name","capital","population","languages","languagesList","forEach","element","listElem","append","innerHtml","innerHTML","catch","err"],"mappings":"mMAOIA,EAJEC,EAAQC,SAASC,cAAc,iBAC/BC,EAAOF,SAASC,cAAc,mBAC9BE,EAAcH,SAASC,cAAc,iBACrCG,EAAYJ,SAASC,cAAc,MAGzCF,EAAMM,iBAAiB,SAAS,WAC5B,IAAMC,EAAQP,EAAMO,MAAMC,OAAOC,cACjC,GAAIF,EAAJ,CACIR,GAAgBW,aAAaX,GACjCA,EAAiBY,YAAW,WCbF,IAAUC,KDaeL,ECZ5CM,MAAM,wCAAwCD,EAAiB,CAClEE,OAAQ,MACRC,QAAS,CACPC,OAAQ,uBDS6CC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAChFF,MAAK,SAAAE,GACF,GAAGA,EAAKC,OAAS,GAAKC,QAAQC,IAAI,YAAajB,EAAUkB,MAAMC,QAAU,aAErE,GAAoB,IAAhBL,EAAKC,OAAc,CAGnBf,EAAUkB,MAAMC,QAAU,OAC1B,IAAMC,EAAMxB,SAASyB,cAAc,OACnCD,EAAIE,aAAa,MAAOR,EAAK,GAAGS,MAChC,IAAMC,EAAS5B,SAASyB,cAAc,MACtCG,EAAOC,YAAcX,EAAK,GAAGY,KAC7B,IAAMC,EAAU/B,SAASyB,cAAc,KACvCM,EAAQF,YAAR,YAAkCX,EAAK,GAAGa,QAC1C,IAAMC,EAAahC,SAASyB,cAAc,KAC1CO,EAAWH,YAAX,eAAwCX,EAAK,GAAGc,WAChD,IAAMC,EAAYjC,SAASyB,cAAc,KACzCQ,EAAUJ,YAAc,aACxB,IAAMK,EAAgBlC,SAASyB,cAAc,MAC7CP,EAAK,GAAGe,UAAUE,SAAQ,SAACC,GACvB,IAAMC,EAAWrC,SAASyB,cAAc,MACxCY,EAASR,YAAcO,EAAQN,KAC/BI,EAAcI,OAAOD,MAKzBlC,EAAYmC,OAAOd,GACnBrB,EAAYmC,OAAOV,GACnBzB,EAAYmC,OAAOP,GACnB5B,EAAYmC,OAAON,GACnB7B,EAAYmC,OAAOL,GACnB9B,EAAYmC,OAAOJ,QAGnB9B,EAAUkB,MAAMC,QAAU,OAC1BL,EAAKiB,SAAQ,SAAAC,GACTG,GAAa,OAAOH,EAAQN,KAAnB,WAIrB5B,EAAKsC,UAAYD,KAEpBE,OAAM,SAAAC,GAAOxC,EAAKsC,UAAY,GAAIpB,QAAQC,IAAI,wBAAuB,KAC1E,IAAIkB,EAAY,GAChBpC,EAAYqC,UAAY,S","file":"main.c83d4f38d9d663157e89.js","sourcesContent":["\nimport {fetchCountries} from './fetchCountries.js';\nimport './styles.css';\nconst input = document.querySelector('.search-field');\nconst list = document.querySelector('.countries-list');\nconst countryInfo = document.querySelector('.country-info');\nconst alertText = document.querySelector('h3');\nlet requestTimeout;\n\ninput.addEventListener('input', ()=> {\n    const value = input.value.trim().toLowerCase();\n    if(!value) return\n    if (requestTimeout) clearTimeout(requestTimeout);\n    requestTimeout = setTimeout(() => {(fetchCountries(value)).then(response => response.json())\n        .then(json => {\n            if(json.length > 10) {console.log('too much'); alertText.style.display = 'block'}\n            else \n                if (json.length === 1) {\n\n\n                    alertText.style.display = 'none'\n                    const img = document.createElement('img');\n                    img.setAttribute('src', json[0].flag)\n                    const header = document.createElement('h2');\n                    header.textContent = json[0].name;\n                    const capital = document.createElement('p');\n                    capital.textContent = `Capital: ${json[0].capital}`;\n                    const population = document.createElement('p');\n                    population.textContent = `Population: ${json[0].population}`;\n                    const languages = document.createElement('p');\n                    languages.textContent = 'Languages:';\n                    const languagesList = document.createElement('ul');\n                    json[0].languages.forEach((element) => {\n                        const listElem = document.createElement('li');\n                        listElem.textContent = element.name;\n                        languagesList.append(listElem);\n                        }\n                    );\n    \n    \n                    countryInfo.append(img)\n                    countryInfo.append(header)\n                    countryInfo.append(capital)\n                    countryInfo.append(population)\n                    countryInfo.append(languages)\n                    countryInfo.append(languagesList)\n                }\n                else {\n                    alertText.style.display = 'none'\n                    json.forEach(element => {\n                        innerHtml += `<li>${element.name}</li>`;\n                    });\n                }\n            \n            list.innerHTML = innerHtml;\n        })\n        .catch(err =>{list.innerHTML = ''; console.log('Smth went wrong')});},500)\n    let innerHtml = '';\n    countryInfo.innerHTML = '';\n});\n","export const fetchCountries = function (searchQueries) {\r\n    return fetch(`http://restcountries.eu/rest/v2/name/${searchQueries}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          Accept: 'application/json',\r\n        },\r\n      })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const fetchInfo = function () {\r\n// fetch(allUrl, {\r\n//   method: 'GET',\r\n//   headers: {\r\n//     Accept: 'application/json',\r\n//   },\r\n// }).then(response => response.json())\r\n// .then(json => json)\r\n// .catch(console.log('Smth went wrong'));\r\n// }\r\n// export {fetchInfo};"],"sourceRoot":""}